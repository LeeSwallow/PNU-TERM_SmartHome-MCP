{% macro actuator_card(actuator, device_code) %}
<div class="card h-100 actuator-card" data-actuator-name="{{ actuator.name }}" data-actuator-id="{{ actuator.id }}">
    <div class="card-body">
        <div class="d-flex justify-content-between align-items-start mb-3">
            <div class="flex-grow-1">
                <h5 class="card-title mb-1">{{ actuator.name }}</h5>
                <p class="text-muted small mb-0">{{ actuator.description or '설명 없음' }}</p>
            </div>
            <div class="d-flex align-items-center gap-2">
                <button class="btn btn-sm btn-outline-secondary" onclick="openEditModal('actuator', {{ actuator.id }})" title="편집">
                    <i class="bi bi-pencil"></i>
                </button>
                <span class="badge bg-secondary">ID: {{ actuator.id }}</span>
            </div>
        </div>
        
        <div class="actuator-controls">
            <div class="state-display">
                <span class="text-muted">현재 상태</span>
                <span class="state-value actuator-state" id="state-{{ actuator.id }}">{{ actuator.state or 0 }}</span>
            </div>
            
            <div class="slider-container">
                <div class="slider-labels">
                    <span>최소: 0</span>
                    <span>최대: {{ actuator.level - 1 }}</span>
                </div>
                <input 
                    type="range" 
                    class="form-range" 
                    min="0" 
                    max="{{ actuator.level - 1 }}" 
                    value="{{ actuator.state or 0 }}" 
                    id="slider-{{ actuator.id }}"
                    data-actuator-id="{{ actuator.id }}"
                    oninput="updateSliderValue({{ actuator.id }}, this.value)"
                >
            </div>
            
            <div class="btn-group w-100" role="group">
                <button class="btn btn-danger btn-sm" onclick="setActuatorState('{{ device_code }}', {{ actuator.id }}, 0)">
                    <i class="bi bi-power"></i> OFF
                </button>
                <button class="btn btn-primary btn-sm" onclick="applySliderValue('{{ device_code }}', {{ actuator.id }})">
                    <i class="bi bi-check-circle"></i> 적용
                </button>
                <button class="btn btn-success btn-sm" onclick="setActuatorState('{{ device_code }}', {{ actuator.id }}, {{ actuator.level - 1 }})">
                    <i class="bi bi-lightning-fill"></i> MAX
                </button>
            </div>
        </div>
    </div>
</div>
{% endmacro %}

